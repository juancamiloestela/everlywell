{"version":3,"sources":["components/RecipeListItem/RecipeListItem.jsx","components/RecipeListItem/index.js","components/GlobalRecipeSearch/GlobalRecipeSearch.jsx","components/GlobalRecipeSearch/index.js","components/MainPage/MainPage.jsx","components/MainPage/index.js","functions/recipes.js","components/MainPage/MainPage.module.scss","components/RecipeListItem/RecipeListItem.module.scss","components/GlobalRecipeSearch/GlobalRecipeSearch.module.scss"],"names":["containerQueries","styles","WidthSmallerOrEqualTo600","WidthLargerThan600","minWidth","RecipeListItem","props","useContainerQuery","containerClassNames","containerRef","ref","className","classnames","RecipeLink","to","recipe","idMeal","RecipeData","RecipeName","strMeal","RecipeInstructions","strInstructions","substr","alt","style","backgroundImage","strMealThumb","RecipeThumbnail","timeout","GlobalRecipeSearch","useState","open","setOpen","search","setSearch","results","setResults","searchField","useRef","useEffect","a","searchRecipeByName","clearTimeout","setTimeout","fetchData","icon","faSearch","OpenSearchButton","onClick","current","focus","window","scrollTo","offsetTop","SearchModal","ModalOpen","SearchHeader","faArrowLeft","type","value","placeholder","onChange","e","target","SearchResults","map","result","i","MainPage","recipes","setRecipes","getRandomRecipes","Header","HeaderLogo","Title","getRecipe","id","axios","get","response","data","meals","getRandomRecipe","cacheBuster","String","Math","random","replace","n","Array","Promise","all","module","exports"],"mappings":"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","file":"static/js/5.e4353913.chunk.js","sourcesContent":["import styles from './RecipeListItem.module.scss';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { useContainerQuery } from 'react-container-query';\n\n\nconst containerQueries = {\n  [styles.WidthSmallerOrEqualTo600]: {\n    // default mobile\n  },\n  [styles.WidthLargerThan600]: {\n    minWidth: 600\n  },\n};\n\n\nfunction RecipeListItem(props){\n\n  const [containerClassNames, containerRef] = useContainerQuery(containerQueries);\n\n  return (\n    <div ref={containerRef} className={classnames(styles.RecipeListItem, containerClassNames)}>\n      <Link className={styles.RecipeLink} to={`/recipe/${props.recipe.idMeal}`}>\n        <div className={styles.RecipeData}>\n  \t\t    <div className={styles.RecipeName}>\n            {props.recipe.strMeal}\n          </div>\n          <div className={styles.RecipeInstructions}>\n            {props.recipe.strInstructions.substr(0, 270)}...\n          </div>\n        </div>\n\t\t\t\t<div \n          alt={props.recipe.strMeal} \n\t\t\t\t\tstyle={{backgroundImage: `url(${props.recipe.strMealThumb})`}} \n\t\t\t\t\tclassName={styles.RecipeThumbnail}>\n        </div>\n      </Link>\n    </div>\n  );\n}\n\nexport default RecipeListItem;","import RecipeListItem from './RecipeListItem.jsx';\nexport default RecipeListItem;","import React, { useState, useEffect, useRef } from 'react';\nimport styles from './GlobalRecipeSearch.module.scss';\nimport classnames from 'classnames';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch, faArrowLeft } from '@fortawesome/free-solid-svg-icons';\nimport { searchRecipeByName } from 'functions/recipes';\nimport RecipeListItem from 'components/RecipeListItem';\n\n\nlet timeout = null;\n\n\n\nfunction GlobalRecipeSearch() {\n  \n  const [open, setOpen] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const searchField = useRef(null);\n\n  useEffect(() => {\n    async function fetchData(){\n      const results = await searchRecipeByName(search);\n      setResults(results);\n    }\n\n    // debounce it to avoid hitting the api on every keystroke\n    // will call only after 600ms of no input\n    clearTimeout(timeout);\n    if (search){\n      timeout = setTimeout(() => fetchData(), 600);\n    }\n  }, [search]);\n\n\n  return (\n    <div className={styles.GlobalRecipeSearch}>\n      <FontAwesomeIcon \n        icon={faSearch} \n        className={styles.OpenSearchButton} \n        onClick={() => {\n          setOpen(true);\n          setSearch(\"\");\n          setResults([]);\n          // keyboard only opens on direct user input, so we trigger it here\n          searchField.current.focus();\n          window.scrollTo(0, searchField.current.offsetTop);\n        }}\n        />\n\n      <div className={classnames(styles.SearchModal, {[styles.ModalOpen]: open})}>\n        <div className={styles.SearchHeader}>\n          <FontAwesomeIcon icon={faArrowLeft} onClick={() => setOpen(false)} />\n          <input \n            type=\"text\" \n            value={search} \n            ref={searchField} \n            placeholder=\"I'm craving...\" \n            onChange={(e) => setSearch(e.target.value)}\n            />\n        </div>\n        <div className={styles.SearchResults}>\n          {results && results.map((result, i) => {\n            return <RecipeListItem key={i} recipe={result} />;\n          })}\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default GlobalRecipeSearch;\n","import GlobalRecipeSearch from './GlobalRecipeSearch.jsx';\nexport default GlobalRecipeSearch;","import React, { useState, useEffect } from 'react';\nimport styles from './MainPage.module.scss';\nimport RecipeListItem from 'components/RecipeListItem';\nimport { getRandomRecipes } from 'functions/recipes';\nimport GlobalRecipeSearch from 'components/GlobalRecipeSearch';\n\n\n\nfunction MainPage() {\n  \n  const [recipes, setRecipes] = useState([]);\n\n  useEffect(() => {\n    async function fetchData(){\n      setRecipes( await getRandomRecipes(3) );\n    }\n\n    fetchData();\n  }, []);\n\n  return (\n    <div className={styles.MainPage}>\n      \n      <header className={styles.Header}>\n        <div className={styles.HeaderLogo}></div>\n      </header>\n      \n      <div className={styles.Title}>Recipes of the day</div>\n      \n      {recipes && recipes.map((recipe, i) => <RecipeListItem key={i} recipe={recipe} />)}\n\n      <GlobalRecipeSearch />\n    </div>\n  );\n}\n\nexport default MainPage;\n","import MainPage from './MainPage.jsx';\nexport default MainPage;","import axios from 'axios';\n\nexport async function getRecipe(id){\n  const response = await axios.get(\"https://www.themealdb.com/api/json/v1/1/lookup.php?i=\" + id);\n  return response.data.meals[0];\n}\n\nexport async function getRandomRecipe(){\n  const cacheBuster = String(Math.random()).replace(\"0.\", \"\");\n  const response = await axios.get(\"https://www.themealdb.com/api/json/v1/1/random.php?t=\" + cacheBuster);\n  return response.data.meals[0];\n}\n\nexport async function getRandomRecipes(n){\n  const recipes = [...Array(n)].map(i => getRandomRecipe());\n  try {\n    return await Promise.all(recipes);\n  }catch(error){\n    return null;\n  }\n}\n\nexport async function searchRecipeByName(search){\n  const response = await axios.get(\"https://www.themealdb.com/api/json/v1/1/search.php?s=\" + search);\n  return response.data.meals;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"MainPage_Header__UKz--\",\"HeaderLogo\":\"MainPage_HeaderLogo__GjR22\",\"Title\":\"MainPage_Title__1Gp3t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RecipeLink\":\"RecipeListItem_RecipeLink__3Eut7\",\"RecipeName\":\"RecipeListItem_RecipeName__1Fs0I\",\"RecipeThumbnail\":\"RecipeListItem_RecipeThumbnail__1kLXZ\",\"RecipeInstructions\":\"RecipeListItem_RecipeInstructions__R_1Ue\",\"WidthLargerThan600\":\"RecipeListItem_WidthLargerThan600__2LEyv\",\"RecipeData\":\"RecipeListItem_RecipeData__37lTf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OpenSearchButton\":\"GlobalRecipeSearch_OpenSearchButton__18T5C\",\"SearchModal\":\"GlobalRecipeSearch_SearchModal__1fqj9\",\"ModalOpen\":\"GlobalRecipeSearch_ModalOpen__GqUGd\",\"SearchHeader\":\"GlobalRecipeSearch_SearchHeader__2L3je\",\"SearchResults\":\"GlobalRecipeSearch_SearchResults__r3gRv\"};"],"sourceRoot":""}